{"timestamp":"2025-09-23T08:50:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-23T08:53:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","cache-control":"max-age=0","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"c8f77c1a4e01ff9b"}}
{"timestamp":"2025-09-23T08:53:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","cache-control":"max-age=0","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"84259a7d6e2737b7"}}
{"timestamp":"2025-09-23T08:53:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"942","content-type":"text/html; charset=utf-8","x-request-id":"84259a7d6e2737b7"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/ext/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":4.44,"request_id":"84259a7d6e2737b7"}}
{"timestamp":"2025-09-23T08:53:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"942","content-type":"text/html; charset=utf-8","x-request-id":"c8f77c1a4e01ff9b"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/ext/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":29.27,"request_id":"c8f77c1a4e01ff9b"}}
{"timestamp":"2025-09-23T08:53:31.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","cache-control":"max-age=0","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"dcb57bdfc449021d"}}
{"timestamp":"2025-09-23T08:53:31.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","cache-control":"max-age=0","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"70a6495a9a91fbee"}}
{"timestamp":"2025-09-23T08:53:31.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"942","content-type":"text/html; charset=utf-8","x-request-id":"70a6495a9a91fbee"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/ext/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":3.23,"request_id":"70a6495a9a91fbee"}}
{"timestamp":"2025-09-23T08:53:31.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"942","content-type":"text/html; charset=utf-8","x-request-id":"dcb57bdfc449021d"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/ext/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":8.02,"request_id":"dcb57bdfc449021d"}}
{"timestamp":"2025-09-23T08:53:31.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/openapi.json","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json,*/*","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/ext/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"2fd5ba326a1bdb22"}}
{"timestamp":"2025-09-23T08:53:31.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/openapi.json","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json,*/*","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/ext/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"7be6133053781823"}}
{"timestamp":"2025-09-23T08:53:31.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"8496","content-type":"application/json","x-request-id":"7be6133053781823"},"body":{"openapi":"3.1.0","info":{"title":"FastAPI","version":"v1"},"paths":{"/ext/api/v1/messages/":{"get":{"tags":["Messages"],"summary":"Create Message","description":"Создаёт новое сообщение, привязанное к сессии.","operationId":"create_message_ext_api_v1_messages__get","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"integer","description":"ID сессии аккаунта","title":"Session Id"},"description":"ID сессии аккаунта"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта-получателя","title":"Number"},"description":"Номер аккаунта-получателя"},{"name":"text","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Текст сообщения","title":"Text"},"description":"Текст сообщения"},{"name":"info_1","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 1","title":"Info 1"},"description":"Метаинформация 1"},{"name":"info_2","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 2","title":"Info 2"},"description":"Метаинформация 2"},{"name":"info_3","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 3","title":"Info 3"},"description":"Метаинформация 3"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/messages/status":{"get":{"tags":["Messages"],"summary":"Update Message Status","description":"Обновляет статус сообщения.","operationId":"update_message_status_ext_api_v1_messages_status_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","description":"ID сообщения","title":"Id"},"description":"ID сообщения"},{"name":"status","in":"query","required":true,"schema":{"type":"integer","description":"Новый статус сообщения","title":"Status"},"description":"Новый статус сообщения"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/start":{"get":{"tags":["Account"],"summary":"Start Session","description":"Стартует сессию: если аккаунта нет — создаёт, если сессия уже существует — ошибка.","operationId":"start_session_ext_api_v1_session_start_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта/получателя","title":"Number"},"description":"Номер аккаунта/получателя"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/finish":{"get":{"tags":["Account"],"summary":"Finish Session","description":"Помечает сессию как завершённую (AVAILABLE) и обновляет msg_count.","operationId":"finish_session_ext_api_v1_session_finish_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"},{"name":"msg_count","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Количество сообщений, которое нужно прибавить","default":0,"title":"Msg Count"},"description":"Количество сообщений, которое нужно прибавить"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/ban":{"get":{"tags":["Account"],"summary":"Ban Session","description":"Помечает сессию как заблокированную (BANNED) и обновляет msg_count.","operationId":"ban_session_ext_api_v1_session_ban_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"},{"name":"msg_count","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Количество сообщений, которое нужно прибавить","default":0,"title":"Msg Count"},"description":"Количество сообщений, которое нужно прибавить"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MessageCreateResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"}},"type":"object","required":["id"],"title":"MessageCreateResponse","description":"Ответ при создании сообщения."},"MessageStatusResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"},"status":{"type":"integer","title":"Status","description":"Текущий статус сообщения"}},"type":"object","required":["id","status"],"title":"MessageStatusResponse","description":"Ответ при обновлении статуса сообщения."},"SessionStatusResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Внешний идентификатор сессии"},"number":{"type":"string","title":"Number","description":"Номер аккаунта"},"status":{"type":"integer","title":"Status","description":"Текущий статус сессии аккаунта"}},"type":"object","required":["id","number","status"],"title":"SessionStatusResponse","description":"Ответ при изменении статуса сессии аккаунта."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyQuery":{"type":"apiKey","in":"query","name":"x_api_key"},"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-Api-Key"}}}},"processing_time_ms":52.51,"request_id":"7be6133053781823"}}
{"timestamp":"2025-09-23T08:53:31.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"8496","content-type":"application/json","x-request-id":"2fd5ba326a1bdb22"},"body":{"openapi":"3.1.0","info":{"title":"FastAPI","version":"v1"},"paths":{"/ext/api/v1/messages/":{"get":{"tags":["Messages"],"summary":"Create Message","description":"Создаёт новое сообщение, привязанное к сессии.","operationId":"create_message_ext_api_v1_messages__get","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"integer","description":"ID сессии аккаунта","title":"Session Id"},"description":"ID сессии аккаунта"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта-получателя","title":"Number"},"description":"Номер аккаунта-получателя"},{"name":"text","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Текст сообщения","title":"Text"},"description":"Текст сообщения"},{"name":"info_1","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 1","title":"Info 1"},"description":"Метаинформация 1"},{"name":"info_2","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 2","title":"Info 2"},"description":"Метаинформация 2"},{"name":"info_3","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 3","title":"Info 3"},"description":"Метаинформация 3"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/messages/status":{"get":{"tags":["Messages"],"summary":"Update Message Status","description":"Обновляет статус сообщения.","operationId":"update_message_status_ext_api_v1_messages_status_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","description":"ID сообщения","title":"Id"},"description":"ID сообщения"},{"name":"status","in":"query","required":true,"schema":{"type":"integer","description":"Новый статус сообщения","title":"Status"},"description":"Новый статус сообщения"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/start":{"get":{"tags":["Account"],"summary":"Start Session","description":"Стартует сессию: если аккаунта нет — создаёт, если сессия уже существует — ошибка.","operationId":"start_session_ext_api_v1_session_start_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта/получателя","title":"Number"},"description":"Номер аккаунта/получателя"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/finish":{"get":{"tags":["Account"],"summary":"Finish Session","description":"Помечает сессию как завершённую (AVAILABLE) и обновляет msg_count.","operationId":"finish_session_ext_api_v1_session_finish_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"},{"name":"msg_count","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Количество сообщений, которое нужно прибавить","default":0,"title":"Msg Count"},"description":"Количество сообщений, которое нужно прибавить"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/ban":{"get":{"tags":["Account"],"summary":"Ban Session","description":"Помечает сессию как заблокированную (BANNED) и обновляет msg_count.","operationId":"ban_session_ext_api_v1_session_ban_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"},{"name":"msg_count","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Количество сообщений, которое нужно прибавить","default":0,"title":"Msg Count"},"description":"Количество сообщений, которое нужно прибавить"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MessageCreateResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"}},"type":"object","required":["id"],"title":"MessageCreateResponse","description":"Ответ при создании сообщения."},"MessageStatusResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"},"status":{"type":"integer","title":"Status","description":"Текущий статус сообщения"}},"type":"object","required":["id","status"],"title":"MessageStatusResponse","description":"Ответ при обновлении статуса сообщения."},"SessionStatusResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Внешний идентификатор сессии"},"number":{"type":"string","title":"Number","description":"Номер аккаунта"},"status":{"type":"integer","title":"Status","description":"Текущий статус сессии аккаунта"}},"type":"object","required":["id","number","status"],"title":"SessionStatusResponse","description":"Ответ при изменении статуса сессии аккаунта."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyQuery":{"type":"apiKey","in":"query","name":"x_api_key"},"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-Api-Key"}}}},"processing_time_ms":57.27,"request_id":"2fd5ba326a1bdb22"}}
{"timestamp":"2025-09-23T08:53:33.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","cache-control":"max-age=0","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"c7ae21fa05da3f33"}}
{"timestamp":"2025-09-23T08:53:33.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"938","content-type":"text/html; charset=utf-8","x-request-id":"c7ae21fa05da3f33"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":2.92,"request_id":"c7ae21fa05da3f33"}}
{"timestamp":"2025-09-23T08:53:38.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","cache-control":"max-age=0","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"a2e1119ddcd852c7"}}
{"timestamp":"2025-09-23T08:53:38.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"938","content-type":"text/html; charset=utf-8","x-request-id":"a2e1119ddcd852c7"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":1.56,"request_id":"a2e1119ddcd852c7"}}
{"timestamp":"2025-09-23T08:53:38.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/openapi.json","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json,*/*","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"0617c2872ede143c"}}
{"timestamp":"2025-09-23T08:53:38.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"58831","content-type":"application/json","x-request-id":"0617c2872ede143c"},"body":{"openapi":"3.1.0","info":{"title":"FastAPI","version":"v1"},"paths":{"/api/v1/":{"get":{"tags":["Info"],"summary":"Root Handler","operationId":"root_handler_api_v1__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/access-token":{"post":{"tags":["Auth"],"summary":"Login Access Token","description":"OAuth2 compatible token login, get an access token for future requests","operationId":"login_access_token_api_v1_auth_access_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_access_token_api_v1_auth_access_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh-token":{"post":{"tags":["Auth"],"summary":"Refresh Token","description":"Refresh token","operationId":"refresh_token_api_v1_auth_refresh_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}}}}},"/api/v1/auth/test-token":{"post":{"tags":["Auth"],"summary":"Test Token","description":"Test access token","operationId":"test_token_api_v1_auth_test_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenTest"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/":{"get":{"tags":["Users"],"summary":"Read Users","description":"Возвращает список пользователей с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется\nсортировка по умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    f: Фильтр `UserFilter` (из query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Объект `schemas.UserList` вида:\n    `{\"data\": [schemas.User, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /users?login__ilike=%al%&order_by=login&order_by=-id`\n    - `GET /users?id__in=1,2,3&order_by=-id`","operationId":"read_users_api_v1_users__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Skip"},"description":"Page offset"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page size","default":100,"title":"Limit"},"description":"Page size"},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"name__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  Eq"}},{"name":"name__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  In"}},{"name":"name__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  Like"}},{"name":"login__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  Eq"}},{"name":"login__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  In"}},{"name":"login__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  Like"}},{"name":"x_api_key__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  Eq"}},{"name":"x_api_key__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  In"}},{"name":"x_api_key__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  Like"}},{"name":"is_active__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active  Eq"}},{"name":"is_superuser__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser  Eq"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Users"],"summary":"Create User","description":"Создаёт нового пользователя.\n\nПеред созданием выполняется проверка на уникальность по полю `login`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    obj_in: Данные для создания пользователя (`schemas.UserCreate`).\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Созданный объект `schemas.User` (HTTP 201).","operationId":"create_user_api_v1_users__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["Users"],"summary":"Read Curent User","description":"Возвращает данные текущего пользователя.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.User`.","operationId":"read_curent_user_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Users"],"summary":"Update Current User","description":"Обновляет данные текущего пользователя.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    password: Новый пароль (опционально).\n    name: Новое имя (опционально).\n    login: Новый логин (опционально).\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.User`.","operationId":"update_current_user_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_update_current_user_api_v1_users_me_put"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/{id}":{"get":{"tags":["Users"],"summary":"Read User","description":"Возвращает пользователя по идентификатору.\n\nЕсли запрашивается не текущий пользователь и текущий пользователь\nне является суперпользователем — будет возвращена ошибка 400.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.\n    HTTPException(400): Недостаточно прав для просмотра чужого профиля.","operationId":"read_user_api_v1_users__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users"],"summary":"Delete User","description":"Удаляет пользователя по идентификатору.\n\nДоступно только суперпользователю.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Удалённый объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.","operationId":"delete_user_api_v1_users__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"put":{"tags":["Users"],"summary":"Update User","description":"Обновляет пользователя по идентификатору.\n\nДоступно только суперпользователю.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    obj_in: Данные для обновления (`schemas.UserUpdate`).\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Обновлённый объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.","operationId":"update_user_api_v1_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/":{"get":{"tags":["Accounts"],"summary":"Read Accounts","description":"Возвращает список аккаунтов с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `AccountFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.AccountList` вида:\n    `{\"data\": [schemas.Account, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /accounts?status__in=1,2&order_by=-id`\n    - `GET /accounts?user_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_accounts_api_v1_accounts__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"user_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id  Eq"}},{"name":"user_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id  In"}},{"name":"type__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type  Eq"}},{"name":"type__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type  In"}},{"name":"number__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number  Eq"}},{"name":"number__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  In"}},{"name":"number__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  Like"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"session_count__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count  Gt"}},{"name":"session_count__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count  Lt"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/AccountStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Accounts"],"summary":"Create Account","description":"Создаёт новый аккаунт.\n\nПеред созданием выполняется проверка на уникальность по полю `number`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания аккаунта (`schemas.AccountCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Account` (HTTP 201).","operationId":"create_account_api_v1_accounts__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/{id}":{"put":{"tags":["Accounts"],"summary":"Update Account","description":"Обновляет данные аккаунта по идентификатору.\n\nВозвращает 404, если аккаунт не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    obj_in: Данные для обновления (`schemas.AccountUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Account`.","operationId":"update_account_api_v1_accounts__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Accounts"],"summary":"Read Account","description":"Возвращает аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Account`.\n\nRaises:\n    HTTPException(404): Если аккаунт не найден.","operationId":"read_account_api_v1_accounts__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Accounts"],"summary":"Delete Account","description":"Удаляет аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Account`.\n\nRaises:\n    HTTPException(404): Если аккаунт не найден.","operationId":"delete_account_api_v1_accounts__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/":{"get":{"tags":["Sessions"],"summary":"Read Sessions","description":"Возвращает список сессий аккаунтов с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `AccountFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.SessionList` вида:\n    `{\"data\": [schemas.Session, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /sessions?status__in=1,2&order_by=-id`\n    - `GET /sessions?account_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_sessions_api_v1_sessions__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"account_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id  Eq"}},{"name":"account_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Id  In"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"msg_count__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count  Gt"}},{"name":"msg_count__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count  Lt"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/AccountStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Sessions"],"summary":"Create Session","description":"Создаёт новую сессию аккаунта.\n\nПеред созданием выполняется проверка на уникальность по полю `ext_id`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания аккаунта (`schemas.SessionCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Session` (HTTP 201).","operationId":"create_session_api_v1_sessions__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/{id}":{"put":{"tags":["Sessions"],"summary":"Update Session","description":"Обновляет данные сессии аккаунта по идентификатору.\n\nВозвращает 404, если аккаунт не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    obj_in: Данные для обновления (`schemas.SessionUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Session`.","operationId":"update_session_api_v1_sessions__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Sessions"],"summary":"Read Session","description":"Возвращает сессию аккаунта по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Session`.\n\nRaises:\n    HTTPException(404): Если сессия аккаунта не найдена.","operationId":"read_session_api_v1_sessions__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Sessions"],"summary":"Delete Session","description":"Удаляет аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сессии аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Session`.\n\nRaises:\n    HTTPException(404): Если сессия аккаунта не найдена.","operationId":"delete_session_api_v1_sessions__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/messages/":{"get":{"tags":["Messages"],"summary":"Read Messages","description":"Возвращает список сообщений с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `MessageFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.MessageList` вида:\n    `{\"data\": [schemas.Message, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /messages?status__in=1,2&order_by=-id`\n    - `GET /messages?user_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_messages_api_v1_messages__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"session_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id  Eq"}},{"name":"session_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id  In"}},{"name":"number__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number  Eq"}},{"name":"number__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  In"}},{"name":"number__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  Like"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"sent_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Eq"}},{"name":"sent_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Gte"}},{"name":"sent_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Messages"],"summary":"Create Message","description":"Создаёт новое сообщение.\n\nПеред созданием выполняется проверка на уникальность по полю `number`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания сообщения (`schemas.MessageCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Message` (HTTP 201).","operationId":"create_message_api_v1_messages__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/messages/{id}":{"put":{"tags":["Messages"],"summary":"Update Message","description":"Обновляет данные сообщения по идентификатору.\n\nВозвращает 404, если сообщение не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    obj_in: Данные для обновления (`schemas.MessageUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Message`.","operationId":"update_message_api_v1_messages__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Messages"],"summary":"Read Message","description":"Возвращает сообщение по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Message`.\n\nRaises:\n    HTTPException(404): Если сообщение не найдено.","operationId":"read_message_api_v1_messages__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Messages"],"summary":"Delete Message","description":"Удаляет сообщение по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Message`.\n\nRaises:\n    HTTPException(404): Если сообщение не найдено.","operationId":"delete_message_api_v1_messages__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Account":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"user":{"$ref":"#/components/schemas/User"}},"type":"object","required":["user"],"title":"Account","description":"Схема аккаунта, возвращаемая из API"},"AccountCreate":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта","default":0},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"AccountCreate","description":"Схема для создания нового аккаунта"},"AccountList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Account"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"AccountList","description":"Схема списка аккаунтов с общим количеством записей"},"AccountStatus":{"properties":{"BANNED":{"type":"integer","title":"Banned","default":-1},"AVAILABLE":{"type":"integer","title":"Available","default":0},"ACTIVE":{"type":"integer","title":"Active","default":1},"PAUSED":{"type":"integer","title":"Paused","default":2}},"type":"object","title":"AccountStatus"},"AccountUpdate":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"AccountUpdate","description":"Схема для обновления существующего аккаунта"},"Body_login_access_token_api_v1_auth_access_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_access_token_api_v1_auth_access_token_post"},"Body_update_current_user_api_v1_users_me_put":{"properties":{"password":{"type":"string","title":"Password"},"name":{"type":"string","title":"Name"},"login":{"type":"string","title":"Login"}},"type":"object","title":"Body_update_current_user_api_v1_users_me_put"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Message":{"properties":{"session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id","description":"ID сессии аккаунта"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер получателя"},"geo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geo","description":"Географическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"session":{"$ref":"#/components/schemas/Session"}},"type":"object","required":["session"],"title":"Message","description":"Схема сообщения, возвращаемая из API"},"MessageCreate":{"properties":{"session_id":{"type":"integer","title":"Session Id","description":"ID сессии аккаунта"},"number":{"type":"string","title":"Number","description":"Номер получателя"},"geo":{"type":"string","title":"Geo","description":"ТГеографическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения","default":0},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","required":["session_id","number","geo"],"title":"MessageCreate","description":"Схема для создания нового сообщения"},"MessageList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"MessageList","description":"Схема списка сообщений с общим количеством записей"},"MessageStatus":{"properties":{"WAITING":{"type":"integer","title":"Waiting","default":-1},"CREATED":{"type":"integer","title":"Created","default":0},"SENT":{"type":"integer","title":"Sent","default":1},"DELIVERED":{"type":"integer","title":"Delivered","default":2},"UNDELIVERED":{"type":"integer","title":"Undelivered","default":3},"FAILED":{"type":"integer","title":"Failed","default":4}},"type":"object","title":"MessageStatus"},"MessageUpdate":{"properties":{"session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id","description":"ID сессии аккаунта"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер получателя"},"geo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geo","description":"Географическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"MessageUpdate","description":"Схема для обновления существующего сообщения"},"Session":{"properties":{"account_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id","description":"ID аккаунта"},"ext_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"account":{"$ref":"#/components/schemas/Account"}},"type":"object","required":["account"],"title":"Session","description":"Схема сессии аккаунта, возвращаемая из API"},"SessionCreate":{"properties":{"account_id":{"type":"integer","title":"Account Id","description":"ID аккаунта"},"ext_id":{"type":"string","title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта","default":0},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","required":["account_id","ext_id"],"title":"SessionCreate","description":"Схема для создания нового сессии аккаунта"},"SessionList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Session"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"SessionList","description":"Схема списка сессий аккаунтов с общим количеством записей"},"SessionUpdate":{"properties":{"account_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id","description":"ID аккаунта"},"ext_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"SessionUpdate","description":"Схема для обновления существующего сессии аккаунта"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"},"user":{"$ref":"#/components/schemas/User"},"ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ts"}},"type":"object","required":["access_token","token_type","user","ts"],"title":"Token"},"TokenTest":{"properties":{"user":{"$ref":"#/components/schemas/User"},"ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ts"}},"type":"object","required":["user","ts"],"title":"TokenTest"},"User":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id","description":"ID пользователя (автоинкремент)"}},"type":"object","title":"User","description":"Схема пользователя, возвращаемая из API"},"UserCreate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"type":"string","title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"password":{"type":"string","title":"Password","description":"Пароль для авторизаации"}},"type":"object","title":"UserCreate","description":"Схема для создания нового пользователя"},"UserList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/User"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["data","total"],"title":"UserList","description":"Схема списка пользователей с общим количеством записей"},"UserUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","description":"Пароль для авторизаации"}},"type":"object","title":"UserUpdate","description":"Схема для обновления существующего пользователя"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/access-token"}}}}}},"processing_time_ms":89.47,"request_id":"0617c2872ede143c"}}
{"timestamp":"2025-09-23T08:54:41.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"f31ac576188e0822"}}
{"timestamp":"2025-09-23T08:54:41.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"c2923874acf0f856"}}
{"timestamp":"2025-09-23T08:54:41.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"c2923874acf0f856"},"body":{"detail":"Not Found"},"processing_time_ms":17.34,"request_id":"c2923874acf0f856"}}
{"timestamp":"2025-09-23T08:54:41.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"f31ac576188e0822"},"body":{"detail":"Not Found"},"processing_time_ms":66.01,"request_id":"f31ac576188e0822"}}
{"timestamp":"2025-09-23T08:54:41.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/favicon.ico","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","accept":"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8","sec-fetch-site":"same-origin","sec-fetch-mode":"no-cors","sec-fetch-dest":"image","referer":"http://localhost:8000/api/v1","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"52c18f326dbd11ae"}}
{"timestamp":"2025-09-23T08:54:41.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/favicon.ico","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","accept":"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8","sec-fetch-site":"same-origin","sec-fetch-mode":"no-cors","sec-fetch-dest":"image","referer":"http://localhost:8000/api/v1","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"0598c579428ae019"}}
{"timestamp":"2025-09-23T08:54:41.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"0598c579428ae019"},"body":{"detail":"Not Found"},"processing_time_ms":6.11,"request_id":"0598c579428ae019"}}
{"timestamp":"2025-09-23T08:54:41.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"52c18f326dbd11ae"},"body":{"detail":"Not Found"},"processing_time_ms":20.22,"request_id":"52c18f326dbd11ae"}}
{"timestamp":"2025-09-23T08:54:48.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"fbd4a4fc2a7e1e86"}}
{"timestamp":"2025-09-23T08:54:48.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"16","content-type":"application/json","x-request-id":"fbd4a4fc2a7e1e86"},"body":{"version":"v1"},"processing_time_ms":18.39,"request_id":"fbd4a4fc2a7e1e86"}}
{"timestamp":"2025-09-23T08:55:16.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"6f9ca923c856"},"name":"cloud_access_point","level":"INFO","message":"Остановка приложения","event":{"code":"010102","name":"SYSTEM.APP.SHUTDOWN","message":"Остановка приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-23T08:57:33.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-23T08:58:24.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","cache-control":"max-age=0","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"d4a7f408df43c546"}}
{"timestamp":"2025-09-23T08:58:24.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"938","content-type":"text/html; charset=utf-8","x-request-id":"d4a7f408df43c546"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":2.96,"request_id":"d4a7f408df43c546"}}
{"timestamp":"2025-09-23T08:58:24.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/openapi.json","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json,*/*","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"da15853a722cdd18"}}
{"timestamp":"2025-09-23T08:58:24.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"58831","content-type":"application/json","x-request-id":"da15853a722cdd18"},"body":{"openapi":"3.1.0","info":{"title":"FastAPI","version":"v1"},"paths":{"/api/v1/":{"get":{"tags":["Info"],"summary":"Root Handler","operationId":"root_handler_api_v1__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/access-token":{"post":{"tags":["Auth"],"summary":"Login Access Token","description":"OAuth2 compatible token login, get an access token for future requests","operationId":"login_access_token_api_v1_auth_access_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_access_token_api_v1_auth_access_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh-token":{"post":{"tags":["Auth"],"summary":"Refresh Token","description":"Refresh token","operationId":"refresh_token_api_v1_auth_refresh_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}}}}},"/api/v1/auth/test-token":{"post":{"tags":["Auth"],"summary":"Test Token","description":"Test access token","operationId":"test_token_api_v1_auth_test_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenTest"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/":{"get":{"tags":["Users"],"summary":"Read Users","description":"Возвращает список пользователей с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется\nсортировка по умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    f: Фильтр `UserFilter` (из query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Объект `schemas.UserList` вида:\n    `{\"data\": [schemas.User, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /users?login__ilike=%al%&order_by=login&order_by=-id`\n    - `GET /users?id__in=1,2,3&order_by=-id`","operationId":"read_users_api_v1_users__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Skip"},"description":"Page offset"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page size","default":100,"title":"Limit"},"description":"Page size"},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"name__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  Eq"}},{"name":"name__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  In"}},{"name":"name__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  Like"}},{"name":"login__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  Eq"}},{"name":"login__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  In"}},{"name":"login__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  Like"}},{"name":"x_api_key__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  Eq"}},{"name":"x_api_key__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  In"}},{"name":"x_api_key__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  Like"}},{"name":"is_active__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active  Eq"}},{"name":"is_superuser__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser  Eq"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Users"],"summary":"Create User","description":"Создаёт нового пользователя.\n\nПеред созданием выполняется проверка на уникальность по полю `login`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    obj_in: Данные для создания пользователя (`schemas.UserCreate`).\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Созданный объект `schemas.User` (HTTP 201).","operationId":"create_user_api_v1_users__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["Users"],"summary":"Read Curent User","description":"Возвращает данные текущего пользователя.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.User`.","operationId":"read_curent_user_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Users"],"summary":"Update Current User","description":"Обновляет данные текущего пользователя.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    password: Новый пароль (опционально).\n    name: Новое имя (опционально).\n    login: Новый логин (опционально).\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.User`.","operationId":"update_current_user_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_update_current_user_api_v1_users_me_put"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/{id}":{"get":{"tags":["Users"],"summary":"Read User","description":"Возвращает пользователя по идентификатору.\n\nЕсли запрашивается не текущий пользователь и текущий пользователь\nне является суперпользователем — будет возвращена ошибка 400.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.\n    HTTPException(400): Недостаточно прав для просмотра чужого профиля.","operationId":"read_user_api_v1_users__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users"],"summary":"Delete User","description":"Удаляет пользователя по идентификатору.\n\nДоступно только суперпользователю.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Удалённый объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.","operationId":"delete_user_api_v1_users__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"put":{"tags":["Users"],"summary":"Update User","description":"Обновляет пользователя по идентификатору.\n\nДоступно только суперпользователю.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    obj_in: Данные для обновления (`schemas.UserUpdate`).\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Обновлённый объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.","operationId":"update_user_api_v1_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/":{"get":{"tags":["Accounts"],"summary":"Read Accounts","description":"Возвращает список аккаунтов с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `AccountFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.AccountList` вида:\n    `{\"data\": [schemas.Account, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /accounts?status__in=1,2&order_by=-id`\n    - `GET /accounts?user_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_accounts_api_v1_accounts__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"user_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id  Eq"}},{"name":"user_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id  In"}},{"name":"type__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type  Eq"}},{"name":"type__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type  In"}},{"name":"number__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number  Eq"}},{"name":"number__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  In"}},{"name":"number__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  Like"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"session_count__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count  Gt"}},{"name":"session_count__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count  Lt"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/AccountStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Accounts"],"summary":"Create Account","description":"Создаёт новый аккаунт.\n\nПеред созданием выполняется проверка на уникальность по полю `number`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания аккаунта (`schemas.AccountCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Account` (HTTP 201).","operationId":"create_account_api_v1_accounts__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/{id}":{"put":{"tags":["Accounts"],"summary":"Update Account","description":"Обновляет данные аккаунта по идентификатору.\n\nВозвращает 404, если аккаунт не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    obj_in: Данные для обновления (`schemas.AccountUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Account`.","operationId":"update_account_api_v1_accounts__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Accounts"],"summary":"Read Account","description":"Возвращает аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Account`.\n\nRaises:\n    HTTPException(404): Если аккаунт не найден.","operationId":"read_account_api_v1_accounts__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Accounts"],"summary":"Delete Account","description":"Удаляет аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Account`.\n\nRaises:\n    HTTPException(404): Если аккаунт не найден.","operationId":"delete_account_api_v1_accounts__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/":{"get":{"tags":["Sessions"],"summary":"Read Sessions","description":"Возвращает список сессий аккаунтов с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `AccountFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.SessionList` вида:\n    `{\"data\": [schemas.Session, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /sessions?status__in=1,2&order_by=-id`\n    - `GET /sessions?account_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_sessions_api_v1_sessions__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"account_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id  Eq"}},{"name":"account_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Id  In"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"msg_count__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count  Gt"}},{"name":"msg_count__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count  Lt"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/AccountStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Sessions"],"summary":"Create Session","description":"Создаёт новую сессию аккаунта.\n\nПеред созданием выполняется проверка на уникальность по полю `ext_id`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания аккаунта (`schemas.SessionCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Session` (HTTP 201).","operationId":"create_session_api_v1_sessions__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/{id}":{"put":{"tags":["Sessions"],"summary":"Update Session","description":"Обновляет данные сессии аккаунта по идентификатору.\n\nВозвращает 404, если аккаунт не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    obj_in: Данные для обновления (`schemas.SessionUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Session`.","operationId":"update_session_api_v1_sessions__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Sessions"],"summary":"Read Session","description":"Возвращает сессию аккаунта по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Session`.\n\nRaises:\n    HTTPException(404): Если сессия аккаунта не найдена.","operationId":"read_session_api_v1_sessions__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Sessions"],"summary":"Delete Session","description":"Удаляет аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сессии аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Session`.\n\nRaises:\n    HTTPException(404): Если сессия аккаунта не найдена.","operationId":"delete_session_api_v1_sessions__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/messages/":{"get":{"tags":["Messages"],"summary":"Read Messages","description":"Возвращает список сообщений с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `MessageFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.MessageList` вида:\n    `{\"data\": [schemas.Message, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /messages?status__in=1,2&order_by=-id`\n    - `GET /messages?user_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_messages_api_v1_messages__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"session_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id  Eq"}},{"name":"session_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id  In"}},{"name":"number__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number  Eq"}},{"name":"number__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  In"}},{"name":"number__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  Like"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"sent_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Eq"}},{"name":"sent_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Gte"}},{"name":"sent_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Messages"],"summary":"Create Message","description":"Создаёт новое сообщение.\n\nПеред созданием выполняется проверка на уникальность по полю `number`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания сообщения (`schemas.MessageCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Message` (HTTP 201).","operationId":"create_message_api_v1_messages__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/messages/{id}":{"put":{"tags":["Messages"],"summary":"Update Message","description":"Обновляет данные сообщения по идентификатору.\n\nВозвращает 404, если сообщение не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    obj_in: Данные для обновления (`schemas.MessageUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Message`.","operationId":"update_message_api_v1_messages__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Messages"],"summary":"Read Message","description":"Возвращает сообщение по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Message`.\n\nRaises:\n    HTTPException(404): Если сообщение не найдено.","operationId":"read_message_api_v1_messages__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Messages"],"summary":"Delete Message","description":"Удаляет сообщение по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Message`.\n\nRaises:\n    HTTPException(404): Если сообщение не найдено.","operationId":"delete_message_api_v1_messages__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Account":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"user":{"$ref":"#/components/schemas/User"}},"type":"object","required":["user"],"title":"Account","description":"Схема аккаунта, возвращаемая из API"},"AccountCreate":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта","default":0},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"AccountCreate","description":"Схема для создания нового аккаунта"},"AccountList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Account"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"AccountList","description":"Схема списка аккаунтов с общим количеством записей"},"AccountStatus":{"properties":{"BANNED":{"type":"integer","title":"Banned","default":-1},"AVAILABLE":{"type":"integer","title":"Available","default":0},"ACTIVE":{"type":"integer","title":"Active","default":1},"PAUSED":{"type":"integer","title":"Paused","default":2}},"type":"object","title":"AccountStatus"},"AccountUpdate":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"AccountUpdate","description":"Схема для обновления существующего аккаунта"},"Body_login_access_token_api_v1_auth_access_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_access_token_api_v1_auth_access_token_post"},"Body_update_current_user_api_v1_users_me_put":{"properties":{"password":{"type":"string","title":"Password"},"name":{"type":"string","title":"Name"},"login":{"type":"string","title":"Login"}},"type":"object","title":"Body_update_current_user_api_v1_users_me_put"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Message":{"properties":{"session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id","description":"ID сессии аккаунта"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер получателя"},"geo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geo","description":"Географическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"session":{"$ref":"#/components/schemas/Session"}},"type":"object","required":["session"],"title":"Message","description":"Схема сообщения, возвращаемая из API"},"MessageCreate":{"properties":{"session_id":{"type":"integer","title":"Session Id","description":"ID сессии аккаунта"},"number":{"type":"string","title":"Number","description":"Номер получателя"},"geo":{"type":"string","title":"Geo","description":"ТГеографическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения","default":0},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","required":["session_id","number","geo"],"title":"MessageCreate","description":"Схема для создания нового сообщения"},"MessageList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"MessageList","description":"Схема списка сообщений с общим количеством записей"},"MessageStatus":{"properties":{"WAITING":{"type":"integer","title":"Waiting","default":-1},"CREATED":{"type":"integer","title":"Created","default":0},"SENT":{"type":"integer","title":"Sent","default":1},"DELIVERED":{"type":"integer","title":"Delivered","default":2},"UNDELIVERED":{"type":"integer","title":"Undelivered","default":3},"FAILED":{"type":"integer","title":"Failed","default":4}},"type":"object","title":"MessageStatus"},"MessageUpdate":{"properties":{"session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id","description":"ID сессии аккаунта"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер получателя"},"geo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geo","description":"Географическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"MessageUpdate","description":"Схема для обновления существующего сообщения"},"Session":{"properties":{"account_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id","description":"ID аккаунта"},"ext_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"account":{"$ref":"#/components/schemas/Account"}},"type":"object","required":["account"],"title":"Session","description":"Схема сессии аккаунта, возвращаемая из API"},"SessionCreate":{"properties":{"account_id":{"type":"integer","title":"Account Id","description":"ID аккаунта"},"ext_id":{"type":"string","title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта","default":0},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","required":["account_id","ext_id"],"title":"SessionCreate","description":"Схема для создания нового сессии аккаунта"},"SessionList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Session"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"SessionList","description":"Схема списка сессий аккаунтов с общим количеством записей"},"SessionUpdate":{"properties":{"account_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id","description":"ID аккаунта"},"ext_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"SessionUpdate","description":"Схема для обновления существующего сессии аккаунта"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"},"user":{"$ref":"#/components/schemas/User"},"ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ts"}},"type":"object","required":["access_token","token_type","user","ts"],"title":"Token"},"TokenTest":{"properties":{"user":{"$ref":"#/components/schemas/User"},"ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ts"}},"type":"object","required":["user","ts"],"title":"TokenTest"},"User":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id","description":"ID пользователя (автоинкремент)"}},"type":"object","title":"User","description":"Схема пользователя, возвращаемая из API"},"UserCreate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"type":"string","title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"password":{"type":"string","title":"Password","description":"Пароль для авторизаации"}},"type":"object","title":"UserCreate","description":"Схема для создания нового пользователя"},"UserList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/User"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["data","total"],"title":"UserList","description":"Схема списка пользователей с общим количеством записей"},"UserUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","description":"Пароль для авторизаации"}},"type":"object","title":"UserUpdate","description":"Схема для обновления существующего пользователя"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/access-token"}}}}}},"processing_time_ms":84.47,"request_id":"da15853a722cdd18"}}
{"timestamp":"2025-09-23T08:58:26.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","cache-control":"max-age=0","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"2b96bc871072d3d1"}}
{"timestamp":"2025-09-23T08:58:26.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","cache-control":"max-age=0","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"same-origin","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"cb5046c6c234cc4e"}}
{"timestamp":"2025-09-23T08:58:26.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"942","content-type":"text/html; charset=utf-8","x-request-id":"cb5046c6c234cc4e"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/ext/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":3.33,"request_id":"cb5046c6c234cc4e"}}
{"timestamp":"2025-09-23T08:58:26.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"942","content-type":"text/html; charset=utf-8","x-request-id":"2b96bc871072d3d1"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/ext/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":8.4,"request_id":"2b96bc871072d3d1"}}
{"timestamp":"2025-09-23T08:58:26.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/openapi.json","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json,*/*","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/ext/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"e8ec253b350167f6"}}
{"timestamp":"2025-09-23T08:58:26.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/openapi.json","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json,*/*","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/ext/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"1b206ebebb45db37"}}
{"timestamp":"2025-09-23T08:58:26.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"8496","content-type":"application/json","x-request-id":"1b206ebebb45db37"},"body":{"openapi":"3.1.0","info":{"title":"FastAPI","version":"v1"},"paths":{"/ext/api/v1/messages/":{"get":{"tags":["Messages"],"summary":"Create Message","description":"Создаёт новое сообщение, привязанное к сессии.","operationId":"create_message_ext_api_v1_messages__get","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"integer","description":"ID сессии аккаунта","title":"Session Id"},"description":"ID сессии аккаунта"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта-получателя","title":"Number"},"description":"Номер аккаунта-получателя"},{"name":"text","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Текст сообщения","title":"Text"},"description":"Текст сообщения"},{"name":"info_1","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 1","title":"Info 1"},"description":"Метаинформация 1"},{"name":"info_2","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 2","title":"Info 2"},"description":"Метаинформация 2"},{"name":"info_3","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 3","title":"Info 3"},"description":"Метаинформация 3"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/messages/status":{"get":{"tags":["Messages"],"summary":"Update Message Status","description":"Обновляет статус сообщения.","operationId":"update_message_status_ext_api_v1_messages_status_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","description":"ID сообщения","title":"Id"},"description":"ID сообщения"},{"name":"status","in":"query","required":true,"schema":{"type":"integer","description":"Новый статус сообщения","title":"Status"},"description":"Новый статус сообщения"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/start":{"get":{"tags":["Account"],"summary":"Start Session","description":"Стартует сессию: если аккаунта нет — создаёт, если сессия уже существует — ошибка.","operationId":"start_session_ext_api_v1_session_start_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта/получателя","title":"Number"},"description":"Номер аккаунта/получателя"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/finish":{"get":{"tags":["Account"],"summary":"Finish Session","description":"Помечает сессию как завершённую (AVAILABLE) и обновляет msg_count.","operationId":"finish_session_ext_api_v1_session_finish_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"},{"name":"msg_count","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Количество сообщений, которое нужно прибавить","default":0,"title":"Msg Count"},"description":"Количество сообщений, которое нужно прибавить"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/ban":{"get":{"tags":["Account"],"summary":"Ban Session","description":"Помечает сессию как заблокированную (BANNED) и обновляет msg_count.","operationId":"ban_session_ext_api_v1_session_ban_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"},{"name":"msg_count","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Количество сообщений, которое нужно прибавить","default":0,"title":"Msg Count"},"description":"Количество сообщений, которое нужно прибавить"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MessageCreateResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"}},"type":"object","required":["id"],"title":"MessageCreateResponse","description":"Ответ при создании сообщения."},"MessageStatusResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"},"status":{"type":"integer","title":"Status","description":"Текущий статус сообщения"}},"type":"object","required":["id","status"],"title":"MessageStatusResponse","description":"Ответ при обновлении статуса сообщения."},"SessionStatusResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Внешний идентификатор сессии"},"number":{"type":"string","title":"Number","description":"Номер аккаунта"},"status":{"type":"integer","title":"Status","description":"Текущий статус сессии аккаунта"}},"type":"object","required":["id","number","status"],"title":"SessionStatusResponse","description":"Ответ при изменении статуса сессии аккаунта."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyQuery":{"type":"apiKey","in":"query","name":"x_api_key"},"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-Api-Key"}}}},"processing_time_ms":8.69,"request_id":"1b206ebebb45db37"}}
{"timestamp":"2025-09-23T08:58:26.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"8496","content-type":"application/json","x-request-id":"e8ec253b350167f6"},"body":{"openapi":"3.1.0","info":{"title":"FastAPI","version":"v1"},"paths":{"/ext/api/v1/messages/":{"get":{"tags":["Messages"],"summary":"Create Message","description":"Создаёт новое сообщение, привязанное к сессии.","operationId":"create_message_ext_api_v1_messages__get","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"integer","description":"ID сессии аккаунта","title":"Session Id"},"description":"ID сессии аккаунта"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта-получателя","title":"Number"},"description":"Номер аккаунта-получателя"},{"name":"text","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Текст сообщения","title":"Text"},"description":"Текст сообщения"},{"name":"info_1","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 1","title":"Info 1"},"description":"Метаинформация 1"},{"name":"info_2","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 2","title":"Info 2"},"description":"Метаинформация 2"},{"name":"info_3","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 3","title":"Info 3"},"description":"Метаинформация 3"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/messages/status":{"get":{"tags":["Messages"],"summary":"Update Message Status","description":"Обновляет статус сообщения.","operationId":"update_message_status_ext_api_v1_messages_status_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","description":"ID сообщения","title":"Id"},"description":"ID сообщения"},{"name":"status","in":"query","required":true,"schema":{"type":"integer","description":"Новый статус сообщения","title":"Status"},"description":"Новый статус сообщения"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/start":{"get":{"tags":["Account"],"summary":"Start Session","description":"Стартует сессию: если аккаунта нет — создаёт, если сессия уже существует — ошибка.","operationId":"start_session_ext_api_v1_session_start_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта/получателя","title":"Number"},"description":"Номер аккаунта/получателя"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/finish":{"get":{"tags":["Account"],"summary":"Finish Session","description":"Помечает сессию как завершённую (AVAILABLE) и обновляет msg_count.","operationId":"finish_session_ext_api_v1_session_finish_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"},{"name":"msg_count","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Количество сообщений, которое нужно прибавить","default":0,"title":"Msg Count"},"description":"Количество сообщений, которое нужно прибавить"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/ban":{"get":{"tags":["Account"],"summary":"Ban Session","description":"Помечает сессию как заблокированную (BANNED) и обновляет msg_count.","operationId":"ban_session_ext_api_v1_session_ban_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"},{"name":"msg_count","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Количество сообщений, которое нужно прибавить","default":0,"title":"Msg Count"},"description":"Количество сообщений, которое нужно прибавить"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MessageCreateResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"}},"type":"object","required":["id"],"title":"MessageCreateResponse","description":"Ответ при создании сообщения."},"MessageStatusResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"},"status":{"type":"integer","title":"Status","description":"Текущий статус сообщения"}},"type":"object","required":["id","status"],"title":"MessageStatusResponse","description":"Ответ при обновлении статуса сообщения."},"SessionStatusResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Внешний идентификатор сессии"},"number":{"type":"string","title":"Number","description":"Номер аккаунта"},"status":{"type":"integer","title":"Status","description":"Текущий статус сессии аккаунта"}},"type":"object","required":["id","number","status"],"title":"SessionStatusResponse","description":"Ответ при изменении статуса сессии аккаунта."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyQuery":{"type":"apiKey","in":"query","name":"x_api_key"},"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-Api-Key"}}}},"processing_time_ms":15.3,"request_id":"e8ec253b350167f6"}}
{"timestamp":"2025-09-23T08:59:02.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"OPTIONS","url":"http://localhost:8000/api/v1//accounts/","headers":{"host":"localhost:8000","connection":"keep-alive","accept":"*/*","access-control-request-method":"GET","access-control-request-headers":"content-type","origin":"http://localhost:3001","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:3001/","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"},"query_params":{},"body":"","request_id":"e7224c90b16c6f63"}}
{"timestamp":"2025-09-23T08:59:02.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"vary":"Origin","access-control-allow-methods":"DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT","access-control-max-age":"600","access-control-allow-credentials":"true","access-control-allow-origin":"http://localhost:3001","access-control-allow-headers":"content-type","content-length":"2","content-type":"text/plain; charset=utf-8","x-request-id":"e7224c90b16c6f63"},"body":"OK","processing_time_ms":13.94,"request_id":"e7224c90b16c6f63"}}
{"timestamp":"2025-09-23T08:59:02.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1//accounts/","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","content-type":"application/json","sec-ch-ua-mobile":"?0","accept":"*/*","origin":"http://localhost:3001","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:3001/","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"},"query_params":{},"body":"","request_id":"09750974d164308e"}}
{"timestamp":"2025-09-23T08:59:02.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1//accounts/","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","content-type":"application/json","sec-ch-ua-mobile":"?0","accept":"*/*","origin":"http://localhost:3001","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:3001/","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"},"query_params":{},"body":"","request_id":"a4128a46b87bb7c1"}}
{"timestamp":"2025-09-23T08:59:02.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"a4128a46b87bb7c1"},"body":{"detail":"Not Found"},"processing_time_ms":7.6,"request_id":"a4128a46b87bb7c1"}}
{"timestamp":"2025-09-23T08:59:02.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"09750974d164308e","access-control-allow-origin":"*","access-control-allow-credentials":"true"},"body":{"detail":"Not Found"},"processing_time_ms":26.99,"request_id":"09750974d164308e"}}
{"timestamp":"2025-09-23T09:03:21.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"17b7d9566277"},"name":"cloud_access_point","level":"INFO","message":"Остановка приложения","event":{"code":"010102","name":"SYSTEM.APP.SHUTDOWN","message":"Остановка приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-23T09:12:55.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"8b108ccc68b4"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-23T09:18:11.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"8b108ccc68b4"},"name":"cloud_access_point","level":"INFO","message":"Остановка приложения","event":{"code":"010102","name":"SYSTEM.APP.SHUTDOWN","message":"Остановка приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-23T09:21:54.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"3bfe2028435e"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-23T09:22:07.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"3bfe2028435e"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","cache-control":"max-age=0","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"5e9f65a04efc7d64"}}
{"timestamp":"2025-09-23T09:22:07.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"3bfe2028435e"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"938","content-type":"text/html; charset=utf-8","x-request-id":"5e9f65a04efc7d64"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":4.82,"request_id":"5e9f65a04efc7d64"}}
{"timestamp":"2025-09-23T09:22:07.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"3bfe2028435e"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/openapi.json","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json,*/*","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjEwNTQyMzYsInN1YiI6IjEifQ.gwuyMjWpiAu4JZw62QZRcPYjubnwjvSa2Ae51ecRFtw; __next_hmr_refresh_hash__=c12d69fb05f38a44affd0a6363351c3e633457081244afec"},"query_params":{},"body":"","request_id":"dff45aa5c500d77b"}}
{"timestamp":"2025-09-23T09:22:07.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"3bfe2028435e"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"58831","content-type":"application/json","x-request-id":"dff45aa5c500d77b"},"body":{"openapi":"3.1.0","info":{"title":"FastAPI","version":"v1"},"paths":{"/api/v1/":{"get":{"tags":["Info"],"summary":"Root Handler","operationId":"root_handler_api_v1__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/access-token":{"post":{"tags":["Auth"],"summary":"Login Access Token","description":"OAuth2 compatible token login, get an access token for future requests","operationId":"login_access_token_api_v1_auth_access_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_access_token_api_v1_auth_access_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh-token":{"post":{"tags":["Auth"],"summary":"Refresh Token","description":"Refresh token","operationId":"refresh_token_api_v1_auth_refresh_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}}}}},"/api/v1/auth/test-token":{"post":{"tags":["Auth"],"summary":"Test Token","description":"Test access token","operationId":"test_token_api_v1_auth_test_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenTest"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/":{"get":{"tags":["Users"],"summary":"Read Users","description":"Возвращает список пользователей с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется\nсортировка по умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    f: Фильтр `UserFilter` (из query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Объект `schemas.UserList` вида:\n    `{\"data\": [schemas.User, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /users?login__ilike=%al%&order_by=login&order_by=-id`\n    - `GET /users?id__in=1,2,3&order_by=-id`","operationId":"read_users_api_v1_users__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Skip"},"description":"Page offset"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page size","default":100,"title":"Limit"},"description":"Page size"},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"name__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  Eq"}},{"name":"name__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  In"}},{"name":"name__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  Like"}},{"name":"login__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  Eq"}},{"name":"login__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  In"}},{"name":"login__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  Like"}},{"name":"x_api_key__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  Eq"}},{"name":"x_api_key__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  In"}},{"name":"x_api_key__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  Like"}},{"name":"is_active__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active  Eq"}},{"name":"is_superuser__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser  Eq"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Users"],"summary":"Create User","description":"Создаёт нового пользователя.\n\nПеред созданием выполняется проверка на уникальность по полю `login`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    obj_in: Данные для создания пользователя (`schemas.UserCreate`).\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Созданный объект `schemas.User` (HTTP 201).","operationId":"create_user_api_v1_users__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["Users"],"summary":"Read Curent User","description":"Возвращает данные текущего пользователя.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.User`.","operationId":"read_curent_user_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Users"],"summary":"Update Current User","description":"Обновляет данные текущего пользователя.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    password: Новый пароль (опционально).\n    name: Новое имя (опционально).\n    login: Новый логин (опционально).\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.User`.","operationId":"update_current_user_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_update_current_user_api_v1_users_me_put"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/{id}":{"get":{"tags":["Users"],"summary":"Read User","description":"Возвращает пользователя по идентификатору.\n\nЕсли запрашивается не текущий пользователь и текущий пользователь\nне является суперпользователем — будет возвращена ошибка 400.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.\n    HTTPException(400): Недостаточно прав для просмотра чужого профиля.","operationId":"read_user_api_v1_users__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users"],"summary":"Delete User","description":"Удаляет пользователя по идентификатору.\n\nДоступно только суперпользователю.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Удалённый объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.","operationId":"delete_user_api_v1_users__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"put":{"tags":["Users"],"summary":"Update User","description":"Обновляет пользователя по идентификатору.\n\nДоступно только суперпользователю.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    obj_in: Данные для обновления (`schemas.UserUpdate`).\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Обновлённый объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.","operationId":"update_user_api_v1_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/":{"get":{"tags":["Accounts"],"summary":"Read Accounts","description":"Возвращает список аккаунтов с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `AccountFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.AccountList` вида:\n    `{\"data\": [schemas.Account, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /accounts?status__in=1,2&order_by=-id`\n    - `GET /accounts?user_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_accounts_api_v1_accounts__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"user_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id  Eq"}},{"name":"user_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id  In"}},{"name":"type__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type  Eq"}},{"name":"type__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type  In"}},{"name":"number__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number  Eq"}},{"name":"number__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  In"}},{"name":"number__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  Like"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"session_count__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count  Gt"}},{"name":"session_count__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count  Lt"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/AccountStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Accounts"],"summary":"Create Account","description":"Создаёт новый аккаунт.\n\nПеред созданием выполняется проверка на уникальность по полю `number`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания аккаунта (`schemas.AccountCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Account` (HTTP 201).","operationId":"create_account_api_v1_accounts__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/{id}":{"put":{"tags":["Accounts"],"summary":"Update Account","description":"Обновляет данные аккаунта по идентификатору.\n\nВозвращает 404, если аккаунт не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    obj_in: Данные для обновления (`schemas.AccountUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Account`.","operationId":"update_account_api_v1_accounts__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Accounts"],"summary":"Read Account","description":"Возвращает аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Account`.\n\nRaises:\n    HTTPException(404): Если аккаунт не найден.","operationId":"read_account_api_v1_accounts__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Accounts"],"summary":"Delete Account","description":"Удаляет аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Account`.\n\nRaises:\n    HTTPException(404): Если аккаунт не найден.","operationId":"delete_account_api_v1_accounts__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/":{"get":{"tags":["Sessions"],"summary":"Read Sessions","description":"Возвращает список сессий аккаунтов с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `AccountFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.SessionList` вида:\n    `{\"data\": [schemas.Session, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /sessions?status__in=1,2&order_by=-id`\n    - `GET /sessions?account_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_sessions_api_v1_sessions__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"account_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id  Eq"}},{"name":"account_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Id  In"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"msg_count__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count  Gt"}},{"name":"msg_count__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count  Lt"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/AccountStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Sessions"],"summary":"Create Session","description":"Создаёт новую сессию аккаунта.\n\nПеред созданием выполняется проверка на уникальность по полю `ext_id`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания аккаунта (`schemas.SessionCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Session` (HTTP 201).","operationId":"create_session_api_v1_sessions__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/{id}":{"put":{"tags":["Sessions"],"summary":"Update Session","description":"Обновляет данные сессии аккаунта по идентификатору.\n\nВозвращает 404, если аккаунт не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    obj_in: Данные для обновления (`schemas.SessionUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Session`.","operationId":"update_session_api_v1_sessions__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Sessions"],"summary":"Read Session","description":"Возвращает сессию аккаунта по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Session`.\n\nRaises:\n    HTTPException(404): Если сессия аккаунта не найдена.","operationId":"read_session_api_v1_sessions__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Sessions"],"summary":"Delete Session","description":"Удаляет аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сессии аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Session`.\n\nRaises:\n    HTTPException(404): Если сессия аккаунта не найдена.","operationId":"delete_session_api_v1_sessions__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/messages/":{"get":{"tags":["Messages"],"summary":"Read Messages","description":"Возвращает список сообщений с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `MessageFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.MessageList` вида:\n    `{\"data\": [schemas.Message, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /messages?status__in=1,2&order_by=-id`\n    - `GET /messages?user_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_messages_api_v1_messages__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"session_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id  Eq"}},{"name":"session_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id  In"}},{"name":"number__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number  Eq"}},{"name":"number__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  In"}},{"name":"number__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  Like"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"sent_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Eq"}},{"name":"sent_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Gte"}},{"name":"sent_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Messages"],"summary":"Create Message","description":"Создаёт новое сообщение.\n\nПеред созданием выполняется проверка на уникальность по полю `number`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания сообщения (`schemas.MessageCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Message` (HTTP 201).","operationId":"create_message_api_v1_messages__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/messages/{id}":{"put":{"tags":["Messages"],"summary":"Update Message","description":"Обновляет данные сообщения по идентификатору.\n\nВозвращает 404, если сообщение не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    obj_in: Данные для обновления (`schemas.MessageUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Message`.","operationId":"update_message_api_v1_messages__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Messages"],"summary":"Read Message","description":"Возвращает сообщение по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Message`.\n\nRaises:\n    HTTPException(404): Если сообщение не найдено.","operationId":"read_message_api_v1_messages__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Messages"],"summary":"Delete Message","description":"Удаляет сообщение по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Message`.\n\nRaises:\n    HTTPException(404): Если сообщение не найдено.","operationId":"delete_message_api_v1_messages__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Account":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"user":{"$ref":"#/components/schemas/User"}},"type":"object","required":["user"],"title":"Account","description":"Схема аккаунта, возвращаемая из API"},"AccountCreate":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта","default":0},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"AccountCreate","description":"Схема для создания нового аккаунта"},"AccountList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Account"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"AccountList","description":"Схема списка аккаунтов с общим количеством записей"},"AccountStatus":{"properties":{"BANNED":{"type":"integer","title":"Banned","default":-1},"AVAILABLE":{"type":"integer","title":"Available","default":0},"ACTIVE":{"type":"integer","title":"Active","default":1},"PAUSED":{"type":"integer","title":"Paused","default":2}},"type":"object","title":"AccountStatus"},"AccountUpdate":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"AccountUpdate","description":"Схема для обновления существующего аккаунта"},"Body_login_access_token_api_v1_auth_access_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_access_token_api_v1_auth_access_token_post"},"Body_update_current_user_api_v1_users_me_put":{"properties":{"password":{"type":"string","title":"Password"},"name":{"type":"string","title":"Name"},"login":{"type":"string","title":"Login"}},"type":"object","title":"Body_update_current_user_api_v1_users_me_put"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Message":{"properties":{"session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id","description":"ID сессии аккаунта"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер получателя"},"geo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geo","description":"Географическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"session":{"$ref":"#/components/schemas/Session"}},"type":"object","required":["session"],"title":"Message","description":"Схема сообщения, возвращаемая из API"},"MessageCreate":{"properties":{"session_id":{"type":"integer","title":"Session Id","description":"ID сессии аккаунта"},"number":{"type":"string","title":"Number","description":"Номер получателя"},"geo":{"type":"string","title":"Geo","description":"ТГеографическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения","default":0},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","required":["session_id","number","geo"],"title":"MessageCreate","description":"Схема для создания нового сообщения"},"MessageList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"MessageList","description":"Схема списка сообщений с общим количеством записей"},"MessageStatus":{"properties":{"WAITING":{"type":"integer","title":"Waiting","default":-1},"CREATED":{"type":"integer","title":"Created","default":0},"SENT":{"type":"integer","title":"Sent","default":1},"DELIVERED":{"type":"integer","title":"Delivered","default":2},"UNDELIVERED":{"type":"integer","title":"Undelivered","default":3},"FAILED":{"type":"integer","title":"Failed","default":4}},"type":"object","title":"MessageStatus"},"MessageUpdate":{"properties":{"session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id","description":"ID сессии аккаунта"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер получателя"},"geo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geo","description":"Географическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"MessageUpdate","description":"Схема для обновления существующего сообщения"},"Session":{"properties":{"account_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id","description":"ID аккаунта"},"ext_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"account":{"$ref":"#/components/schemas/Account"}},"type":"object","required":["account"],"title":"Session","description":"Схема сессии аккаунта, возвращаемая из API"},"SessionCreate":{"properties":{"account_id":{"type":"integer","title":"Account Id","description":"ID аккаунта"},"ext_id":{"type":"string","title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта","default":0},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","required":["account_id","ext_id"],"title":"SessionCreate","description":"Схема для создания нового сессии аккаунта"},"SessionList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Session"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"SessionList","description":"Схема списка сессий аккаунтов с общим количеством записей"},"SessionUpdate":{"properties":{"account_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id","description":"ID аккаунта"},"ext_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"SessionUpdate","description":"Схема для обновления существующего сессии аккаунта"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"},"user":{"$ref":"#/components/schemas/User"},"ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ts"}},"type":"object","required":["access_token","token_type","user","ts"],"title":"Token"},"TokenTest":{"properties":{"user":{"$ref":"#/components/schemas/User"},"ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ts"}},"type":"object","required":["user","ts"],"title":"TokenTest"},"User":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id","description":"ID пользователя (автоинкремент)"}},"type":"object","title":"User","description":"Схема пользователя, возвращаемая из API"},"UserCreate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"type":"string","title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"password":{"type":"string","title":"Password","description":"Пароль для авторизаации"}},"type":"object","title":"UserCreate","description":"Схема для создания нового пользователя"},"UserList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/User"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["data","total"],"title":"UserList","description":"Схема списка пользователей с общим количеством записей"},"UserUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","description":"Пароль для авторизаации"}},"type":"object","title":"UserUpdate","description":"Схема для обновления существующего пользователя"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/access-token"}}}}}},"processing_time_ms":70.84,"request_id":"dff45aa5c500d77b"}}
{"timestamp":"2025-09-23T09:47:07.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"3bfe2028435e"},"name":"cloud_access_point","level":"INFO","message":"Остановка приложения","event":{"code":"010102","name":"SYSTEM.APP.SHUTDOWN","message":"Остановка приложения"},"extra":{"request_id":null}}
