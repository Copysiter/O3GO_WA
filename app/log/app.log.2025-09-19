{"timestamp":"2025-09-19T10:33:40.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:33:41.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:33:45.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:33:45.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:33:50.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:33:50.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:33:55.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:33:55.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:34:01.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:34:01.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:34:08.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:34:08.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:34:16.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:34:16.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:34:28.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:34:28.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:34:45.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:34:46.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:35:16.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:35:16.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:36:12.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:36:12.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T10:37:17.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T10:37:17.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"98bd1d137a51"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:27:17.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:27:17.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:27:20.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:27:20.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:27:22.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:27:22.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:27:25.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:27:25.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:27:28.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:27:28.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:27:32.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:27:32.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:27:38.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:27:38.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:27:46.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:27:46.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:28:02.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:28:02.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:28:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:28:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:29:23.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:29:23.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:30:26.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:30:26.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:31:29.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:31:29.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:32:32.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:32:32.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:33:35.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:33:35.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"b482bd7fc833"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:34:16.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:34:16.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:34:19.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:34:19.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:34:22.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:34:22.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:34:24.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:34:25.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:34:27.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:34:27.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:34:31.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:34:31.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:34:37.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:34:37.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:34:45.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:34:45.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:35:00.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:35:00.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:35:28.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:35:28.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:36:22.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:36:22.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ad2f0e7720b6"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:36:54.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:36:54.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:36:56.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:36:56.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:36:59.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:36:59.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:37:01.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:37:01.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:37:04.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:37:04.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:37:08.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:37:08.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:37:14.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:37:14.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:37:22.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:37:22.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:37:38.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:37:38.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:38:05.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:38:06.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:38:59.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:38:59.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:40:01.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:40:02.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:41:04.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:41:04.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"049f6f1915a3"},"name":"cloud_access_point","level":"ERROR","message":"Системная ошибка приложения","event":{"code":"010105","name":"SYSTEM.APP.ERROR","message":"Ошибка запуска приложения"},"extra":{"error":{"name":"ConnectionDoesNotExistError","value":"connection was closed in the middle of operation"},"traceback":"Traceback (most recent call last):\n  File \"/app/lifespan.py\", line 17, in lifespan\n    await init_db()\n  File \"/app/adapters/db/init_db.py\", line 84, in init_db\n    await init_models()\n  File \"/app/adapters/db/init_db.py\", line 66, in init_models\n    async with engine.begin() as conn:\n  File \"/usr/local/lib/python3.11/contextlib.py\", line 210, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 1066, in begin\n    async with conn:\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/base.py\", line 121, in __aenter__\n    return await self.start(is_ctxmanager=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py\", line 274, in start\n    await greenlet_spawn(self.sync_engine.connect)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3273, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 3297, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 449, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 713, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 179, in _do_get\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/impl.py\", line 177, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 390, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 675, in __init__\n    self.__connect()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 901, in __connect\n    with util.safe_reraise():\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/pool/base.py\", line 897, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/create.py\", line 646, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 625, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 961, in connect\n    await_only(creator_fn(*arg, **kw)),\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connection.py\", line 2421, in connect\n    return await connect_utils._connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 1049, in _connect\n    conn = await _connect_addr(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 886, in _connect_addr\n    return await __connect_addr(params, True, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/asyncpg/connect_utils.py\", line 934, in __connect_addr\n    await connected\nasyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation\n","request_id":null}}
{"timestamp":"2025-09-19T11:41:37.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Запуск приложения","event":{"code":"010101","name":"SYSTEM.APP.STARTUP","message":"Запуск приложения"},"extra":{"request_id":null}}
{"timestamp":"2025-09-19T11:42:38.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/","headers":{"host":"localhost:8000","user-agent":"curl/8.14.1","accept":"*/*"},"query_params":{},"body":"","request_id":"6d8bd69cdf5f27f6"}}
{"timestamp":"2025-09-19T11:42:38.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"16","content-type":"application/json","x-request-id":"6d8bd69cdf5f27f6"},"body":{"version":"v1"},"processing_time_ms":3.93,"request_id":"6d8bd69cdf5f27f6"}}
{"timestamp":"2025-09-19T11:42:47.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec"},"query_params":{},"body":"","request_id":"47074f1ac3a27c60"}}
{"timestamp":"2025-09-19T11:42:47.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"16","content-type":"application/json","x-request-id":"47074f1ac3a27c60"},"body":{"version":"v1"},"processing_time_ms":6.18,"request_id":"47074f1ac3a27c60"}}
{"timestamp":"2025-09-19T11:42:48.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/favicon.ico","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","accept":"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8","sec-fetch-site":"same-origin","sec-fetch-mode":"no-cors","sec-fetch-dest":"image","referer":"http://localhost:8000/api/v1/","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec"},"query_params":{},"body":"","request_id":"b087e85106b6807e"}}
{"timestamp":"2025-09-19T11:42:48.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/favicon.ico","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","accept":"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8","sec-fetch-site":"same-origin","sec-fetch-mode":"no-cors","sec-fetch-dest":"image","referer":"http://localhost:8000/api/v1/","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec"},"query_params":{},"body":"","request_id":"b9a0c7673127fd8e"}}
{"timestamp":"2025-09-19T11:42:48.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"b9a0c7673127fd8e"},"body":{"detail":"Not Found"},"processing_time_ms":3.06,"request_id":"b9a0c7673127fd8e"}}
{"timestamp":"2025-09-19T11:42:48.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"b087e85106b6807e"},"body":{"detail":"Not Found"},"processing_time_ms":10.33,"request_id":"b087e85106b6807e"}}
{"timestamp":"2025-09-19T11:43:13.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/docs","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec"},"query_params":{},"body":"","request_id":"0d2e2a5e007a2217"}}
{"timestamp":"2025-09-19T11:43:13.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/docs","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec"},"query_params":{},"body":"","request_id":"dad0a7dc65075010"}}
{"timestamp":"2025-09-19T11:43:13.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"dad0a7dc65075010"},"body":{"detail":"Not Found"},"processing_time_ms":5.07,"request_id":"dad0a7dc65075010"}}
{"timestamp":"2025-09-19T11:43:13.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"0d2e2a5e007a2217"},"body":{"detail":"Not Found"},"processing_time_ms":12.29,"request_id":"0d2e2a5e007a2217"}}
{"timestamp":"2025-09-19T11:43:46.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/docs","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec"},"query_params":{},"body":"","request_id":"06164b8a47a4c295"}}
{"timestamp":"2025-09-19T11:43:46.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/docs","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec"},"query_params":{},"body":"","request_id":"724900196fbc29ed"}}
{"timestamp":"2025-09-19T11:43:46.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"724900196fbc29ed"},"body":{"detail":"Not Found"},"processing_time_ms":6.04,"request_id":"724900196fbc29ed"}}
{"timestamp":"2025-09-19T11:43:46.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":404,"headers":{"content-length":"22","content-type":"application/json","x-request-id":"06164b8a47a4c295"},"body":{"detail":"Not Found"},"processing_time_ms":14.34,"request_id":"06164b8a47a4c295"}}
{"timestamp":"2025-09-19T11:44:20.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec"},"query_params":{},"body":"","request_id":"e69b09016a13cf3f"}}
{"timestamp":"2025-09-19T11:44:20.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"938","content-type":"text/html; charset=utf-8","x-request-id":"e69b09016a13cf3f"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":1.65,"request_id":"e69b09016a13cf3f"}}
{"timestamp":"2025-09-19T11:44:21.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/api/v1/openapi.json","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json,*/*","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec"},"query_params":{},"body":"","request_id":"31df703ec2c3ec02"}}
{"timestamp":"2025-09-19T11:44:21.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"58831","content-type":"application/json","x-request-id":"31df703ec2c3ec02"},"body":{"openapi":"3.1.0","info":{"title":"FastAPI","version":"v1"},"paths":{"/api/v1/":{"get":{"tags":["Info"],"summary":"Root Handler","operationId":"root_handler_api_v1__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/access-token":{"post":{"tags":["Auth"],"summary":"Login Access Token","description":"OAuth2 compatible token login, get an access token for future requests","operationId":"login_access_token_api_v1_auth_access_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_access_token_api_v1_auth_access_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh-token":{"post":{"tags":["Auth"],"summary":"Refresh Token","description":"Refresh token","operationId":"refresh_token_api_v1_auth_refresh_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}}}}},"/api/v1/auth/test-token":{"post":{"tags":["Auth"],"summary":"Test Token","description":"Test access token","operationId":"test_token_api_v1_auth_test_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenTest"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/":{"get":{"tags":["Users"],"summary":"Read Users","description":"Возвращает список пользователей с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется\nсортировка по умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    f: Фильтр `UserFilter` (из query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Объект `schemas.UserList` вида:\n    `{\"data\": [schemas.User, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /users?login__ilike=%al%&order_by=login&order_by=-id`\n    - `GET /users?id__in=1,2,3&order_by=-id`","operationId":"read_users_api_v1_users__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Page offset","default":0,"title":"Skip"},"description":"Page offset"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page size","default":100,"title":"Limit"},"description":"Page size"},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"name__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  Eq"}},{"name":"name__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  In"}},{"name":"name__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name  Like"}},{"name":"login__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  Eq"}},{"name":"login__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  In"}},{"name":"login__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login  Like"}},{"name":"x_api_key__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  Eq"}},{"name":"x_api_key__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  In"}},{"name":"x_api_key__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X Api Key  Like"}},{"name":"is_active__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active  Eq"}},{"name":"is_superuser__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser  Eq"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Users"],"summary":"Create User","description":"Создаёт нового пользователя.\n\nПеред созданием выполняется проверка на уникальность по полю `login`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    obj_in: Данные для создания пользователя (`schemas.UserCreate`).\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Созданный объект `schemas.User` (HTTP 201).","operationId":"create_user_api_v1_users__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["Users"],"summary":"Read Curent User","description":"Возвращает данные текущего пользователя.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.User`.","operationId":"read_curent_user_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Users"],"summary":"Update Current User","description":"Обновляет данные текущего пользователя.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    password: Новый пароль (опционально).\n    name: Новое имя (опционально).\n    login: Новый логин (опционально).\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.User`.","operationId":"update_current_user_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_update_current_user_api_v1_users_me_put"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/{id}":{"get":{"tags":["Users"],"summary":"Read User","description":"Возвращает пользователя по идентификатору.\n\nЕсли запрашивается не текущий пользователь и текущий пользователь\nне является суперпользователем — будет возвращена ошибка 400.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.\n    HTTPException(400): Недостаточно прав для просмотра чужого профиля.","operationId":"read_user_api_v1_users__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users"],"summary":"Delete User","description":"Удаляет пользователя по идентификатору.\n\nДоступно только суперпользователю.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Удалённый объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.","operationId":"delete_user_api_v1_users__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"put":{"tags":["Users"],"summary":"Update User","description":"Обновляет пользователя по идентификатору.\n\nДоступно только суперпользователю.\n\nArgs:\n    db: Асинхронная сессия SQLAlchemy.\n    id: Идентификатор пользователя.\n    obj_in: Данные для обновления (`schemas.UserUpdate`).\n    _current_user: Текущий активный суперпользователь.\n\nReturns:\n    Обновлённый объект `schemas.User`.\n\nRaises:\n    HTTPException(404): Если пользователь не найден.","operationId":"update_user_api_v1_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/":{"get":{"tags":["Accounts"],"summary":"Read Accounts","description":"Возвращает список аккаунтов с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `AccountFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.AccountList` вида:\n    `{\"data\": [schemas.Account, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /accounts?status__in=1,2&order_by=-id`\n    - `GET /accounts?user_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_accounts_api_v1_accounts__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"user_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id  Eq"}},{"name":"user_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id  In"}},{"name":"type__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type  Eq"}},{"name":"type__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type  In"}},{"name":"number__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number  Eq"}},{"name":"number__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  In"}},{"name":"number__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  Like"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"session_count__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count  Gt"}},{"name":"session_count__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count  Lt"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/AccountStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Accounts"],"summary":"Create Account","description":"Создаёт новый аккаунт.\n\nПеред созданием выполняется проверка на уникальность по полю `number`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания аккаунта (`schemas.AccountCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Account` (HTTP 201).","operationId":"create_account_api_v1_accounts__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/{id}":{"put":{"tags":["Accounts"],"summary":"Update Account","description":"Обновляет данные аккаунта по идентификатору.\n\nВозвращает 404, если аккаунт не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    obj_in: Данные для обновления (`schemas.AccountUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Account`.","operationId":"update_account_api_v1_accounts__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Accounts"],"summary":"Read Account","description":"Возвращает аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Account`.\n\nRaises:\n    HTTPException(404): Если аккаунт не найден.","operationId":"read_account_api_v1_accounts__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Accounts"],"summary":"Delete Account","description":"Удаляет аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Account`.\n\nRaises:\n    HTTPException(404): Если аккаунт не найден.","operationId":"delete_account_api_v1_accounts__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/":{"get":{"tags":["Sessions"],"summary":"Read Sessions","description":"Возвращает список сессий аккаунтов с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `AccountFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.SessionList` вида:\n    `{\"data\": [schemas.Session, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /sessions?status__in=1,2&order_by=-id`\n    - `GET /sessions?account_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_sessions_api_v1_sessions__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"account_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id  Eq"}},{"name":"account_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Id  In"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"msg_count__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count  Gt"}},{"name":"msg_count__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count  Lt"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/AccountStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Sessions"],"summary":"Create Session","description":"Создаёт новую сессию аккаунта.\n\nПеред созданием выполняется проверка на уникальность по полю `ext_id`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания аккаунта (`schemas.SessionCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Session` (HTTP 201).","operationId":"create_session_api_v1_sessions__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/{id}":{"put":{"tags":["Sessions"],"summary":"Update Session","description":"Обновляет данные сессии аккаунта по идентификатору.\n\nВозвращает 404, если аккаунт не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    obj_in: Данные для обновления (`schemas.SessionUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Session`.","operationId":"update_session_api_v1_sessions__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Sessions"],"summary":"Read Session","description":"Возвращает сессию аккаунта по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Session`.\n\nRaises:\n    HTTPException(404): Если сессия аккаунта не найдена.","operationId":"read_session_api_v1_sessions__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Sessions"],"summary":"Delete Session","description":"Удаляет аккаунт по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сессии аккаунта.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Session`.\n\nRaises:\n    HTTPException(404): Если сессия аккаунта не найдена.","operationId":"delete_session_api_v1_sessions__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/messages/":{"get":{"tags":["Messages"],"summary":"Read Messages","description":"Возвращает список сообщений с поддержкой фильтрации,\nсортировки и пагинации.\n\nЕсли параметр сортировки `order_by` не указан, применяется сортировка\nпо умолчанию: `-id` (DESC).\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    f: Фильтр `MessageFilter` (query-параметров через fastapi-filter).\n    skip: Смещение (offset) для пагинации.\n    limit: Максимальное число записей (limit) для пагинации.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.MessageList` вида:\n    `{\"data\": [schemas.Message, ...], \"total\": <int>}` —\n    где `total` учитывает применённый фильтр.\n\nПримеры:\n    - `GET /messages?status__in=1,2&order_by=-id`\n    - `GET /messages?user_id__eq=42&order_by=created_at&order_by=-id`","operationId":"read_messages_api_v1_messages__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Eq"}},{"name":"id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id  In"}},{"name":"id__gt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Gt"}},{"name":"id__lt","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id  Lt"}},{"name":"session_id__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id  Eq"}},{"name":"session_id__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id  In"}},{"name":"number__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Number  Eq"}},{"name":"number__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  In"}},{"name":"number__like","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number  Like"}},{"name":"status__in","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status  In"}},{"name":"created_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Eq"}},{"name":"created_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Gte"}},{"name":"created_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At  Lte"}},{"name":"sent_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Eq"}},{"name":"sent_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Gte"}},{"name":"sent_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At  Lte"}},{"name":"updated_at__eq","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Eq"}},{"name":"updated_at__gte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Gte"}},{"name":"updated_at__lte","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At  Lte"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order By"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageStatus"},{"type":"null"}],"title":"Status  Eq"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Messages"],"summary":"Create Message","description":"Создаёт новое сообщение.\n\nПеред созданием выполняется проверка на уникальность по полю `number`.\nПри обнаружении дубликата возвращается HTTP 400.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    obj_in: Данные для создания сообщения (`schemas.MessageCreate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Созданный объект `schemas.Message` (HTTP 201).","operationId":"create_message_api_v1_messages__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/messages/{id}":{"put":{"tags":["Messages"],"summary":"Update Message","description":"Обновляет данные сообщения по идентификатору.\n\nВозвращает 404, если сообщение не найден.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    obj_in: Данные для обновления (`schemas.MessageUpdate`).\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Обновлённый объект `schemas.Message`.","operationId":"update_message_api_v1_messages__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Messages"],"summary":"Read Message","description":"Возвращает сообщение по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Объект `schemas.Message`.\n\nRaises:\n    HTTPException(404): Если сообщение не найдено.","operationId":"read_message_api_v1_messages__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Messages"],"summary":"Delete Message","description":"Удаляет сообщение по идентификатору.\n\nArgs:\n    db: Асинхронная сессия базы данных.\n    id: Идентификатор сообщения.\n    _current_user: Текущий активный пользователь.\n\nReturns:\n    Удалённый объект `schemas.Message`.\n\nRaises:\n    HTTPException(404): Если сообщение не найдено.","operationId":"delete_message_api_v1_messages__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Account":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"user":{"$ref":"#/components/schemas/User"}},"type":"object","required":["user"],"title":"Account","description":"Схема аккаунта, возвращаемая из API"},"AccountCreate":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта","default":0},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"AccountCreate","description":"Схема для создания нового аккаунта"},"AccountList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Account"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"AccountList","description":"Схема списка аккаунтов с общим количеством записей"},"AccountStatus":{"properties":{"BANNED":{"type":"integer","title":"Banned","default":-1},"AVAILABLE":{"type":"integer","title":"Available","default":0},"ACTIVE":{"type":"integer","title":"Active","default":1},"PAUSED":{"type":"integer","title":"Paused","default":2}},"type":"object","title":"AccountStatus"},"AccountUpdate":{"properties":{"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"ID владельца кампании"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер аккаунта"},"type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Type","description":"Тип аккаунта (1 - WhatsApp, 2 - WhatsApp бизнес)"},"session_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Count","description":"Исходное название архива"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата добавления аккаунта"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата использования"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"AccountUpdate","description":"Схема для обновления существующего аккаунта"},"Body_login_access_token_api_v1_auth_access_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_access_token_api_v1_auth_access_token_post"},"Body_update_current_user_api_v1_users_me_put":{"properties":{"password":{"type":"string","title":"Password"},"name":{"type":"string","title":"Name"},"login":{"type":"string","title":"Login"}},"type":"object","title":"Body_update_current_user_api_v1_users_me_put"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Message":{"properties":{"session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id","description":"ID сессии аккаунта"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер получателя"},"geo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geo","description":"Географическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"session":{"$ref":"#/components/schemas/Session"}},"type":"object","required":["session"],"title":"Message","description":"Схема сообщения, возвращаемая из API"},"MessageCreate":{"properties":{"session_id":{"type":"integer","title":"Session Id","description":"ID сессии аккаунта"},"number":{"type":"string","title":"Number","description":"Номер получателя"},"geo":{"type":"string","title":"Geo","description":"ТГеографическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения","default":0},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","required":["session_id","number","geo"],"title":"MessageCreate","description":"Схема для создания нового сообщения"},"MessageList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"MessageList","description":"Схема списка сообщений с общим количеством записей"},"MessageStatus":{"properties":{"WAITING":{"type":"integer","title":"Waiting","default":-1},"CREATED":{"type":"integer","title":"Created","default":0},"SENT":{"type":"integer","title":"Sent","default":1},"DELIVERED":{"type":"integer","title":"Delivered","default":2},"UNDELIVERED":{"type":"integer","title":"Undelivered","default":3},"FAILED":{"type":"integer","title":"Failed","default":4}},"type":"object","title":"MessageStatus"},"MessageUpdate":{"properties":{"session_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Id","description":"ID сессии аккаунта"},"number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Number","description":"Номер получателя"},"geo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geo","description":"Географическое положение аккаунта"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус сообщения"},"create_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create Ts","description":"Дата отправки сообщения"},"update_ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update Ts","description":"Последняя дата изменения сообщения"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"MessageUpdate","description":"Схема для обновления существующего сообщения"},"Session":{"properties":{"account_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id","description":"ID аккаунта"},"ext_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"},"id":{"type":"integer","title":"Id","description":"Уникальный идентификатор"},"account":{"$ref":"#/components/schemas/Account"}},"type":"object","required":["account"],"title":"Session","description":"Схема сессии аккаунта, возвращаемая из API"},"SessionCreate":{"properties":{"account_id":{"type":"integer","title":"Account Id","description":"ID аккаунта"},"ext_id":{"type":"string","title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта","default":0},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","required":["account_id","ext_id"],"title":"SessionCreate","description":"Схема для создания нового сессии аккаунта"},"SessionList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Session"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["data"],"title":"SessionList","description":"Схема списка сессий аккаунтов с общим количеством записей"},"SessionUpdate":{"properties":{"account_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Account Id","description":"ID аккаунта"},"ext_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Id","description":"Внешний ID сессии"},"msg_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Msg Count","description":"Количество отправленных сообщений"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status","description":"Статус аккаунта"},"create_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Create At","description":"Дата создания сессии аккаунта"},"update_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Update At","description":"Дата обновления сессии"},"info_1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 1","description":"Служебное поле 1"},"info_2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 2","description":"Служебное поле 2"},"info_3":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Info 3","description":"Служебное поле 3"}},"type":"object","title":"SessionUpdate","description":"Схема для обновления существующего сессии аккаунта"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"},"user":{"$ref":"#/components/schemas/User"},"ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ts"}},"type":"object","required":["access_token","token_type","user","ts"],"title":"Token"},"TokenTest":{"properties":{"user":{"$ref":"#/components/schemas/User"},"ts":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ts"}},"type":"object","required":["user","ts"],"title":"TokenTest"},"User":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id","description":"ID пользователя (автоинкремент)"}},"type":"object","title":"User","description":"Схема пользователя, возвращаемая из API"},"UserCreate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"type":"string","title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"password":{"type":"string","title":"Password","description":"Пароль для авторизаации"}},"type":"object","title":"UserCreate","description":"Схема для создания нового пользователя"},"UserList":{"properties":{"data":{"items":{"$ref":"#/components/schemas/User"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["data","total"],"title":"UserList","description":"Схема списка пользователей с общим количеством записей"},"UserUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Имя пользователя"},"login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login","description":"Логин для авторизаации"},"ext_api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ext Api Key","description":"API ключ для внешних вызовов"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Маркер активности пользователя"},"is_superuser":{"type":"boolean","title":"Is Superuser","description":"Маркер прав администратора"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","description":"Пароль для авторизаации"}},"type":"object","title":"UserUpdate","description":"Схема для обновления существующего пользователя"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/access-token"}}}}}},"processing_time_ms":68.32,"request_id":"31df703ec2c3ec02"}}
{"timestamp":"2025-09-19T11:44:55.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"POST","url":"http://localhost:8000/api/v1/auth/access-token","headers":{"host":"localhost:8000","connection":"keep-alive","content-length":"49","sec-ch-ua-platform":"\"Windows\"","authorization":"Basic Og==","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","x-requested-with":"XMLHttpRequest","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json, text/plain, */*","content-type":"application/x-www-form-urlencoded","origin":"http://localhost:8000","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec"},"query_params":{},"body":"grant_type=password&username=admin&password=admin","request_id":"3cb8c84470a4f768"}}
{"timestamp":"2025-09-19T11:44:55.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"271","content-type":"application/json","set-cookie":"refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjA4NzQyOTUsInN1YiI6IjEifQ.VTzJzC0N0xX7W72TfXc56TWS7BsdhOK5wl7l3M961Jo; Path=/; SameSite=lax","access-control-allow-origin":"http://localhost:8000","access-control-allow-credentials":"true","vary":"Origin","x-request-id":"3cb8c84470a4f768"},"body":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NTkxNDYyOTUsInN1YiI6IjEifQ.gkXotmWniH9Ew0bet0zF_kzGAP6cBAFIPgd8AV_gy0I","token_type":"bearer","user":{"id":1,"login":"admin","name":"Admin","is_active":true,"is_superuser":true},"ts":"2025-09-19 11:44:55"},"processing_time_ms":235.75,"request_id":"3cb8c84470a4f768"}}
{"timestamp":"2025-09-19T11:45:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec; refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjA4NzQyOTUsInN1YiI6IjEifQ.VTzJzC0N0xX7W72TfXc56TWS7BsdhOK5wl7l3M961Jo"},"query_params":{},"body":"","request_id":"b0d398a91cc4f57c"}}
{"timestamp":"2025-09-19T11:45:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/docs","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec; refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjA4NzQyOTUsInN1YiI6IjEifQ.VTzJzC0N0xX7W72TfXc56TWS7BsdhOK5wl7l3M961Jo"},"query_params":{},"body":"","request_id":"b491428ba3e83fd2"}}
{"timestamp":"2025-09-19T11:45:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"942","content-type":"text/html; charset=utf-8","x-request-id":"b491428ba3e83fd2"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/ext/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":5.62,"request_id":"b491428ba3e83fd2"}}
{"timestamp":"2025-09-19T11:45:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"942","content-type":"text/html; charset=utf-8","x-request-id":"b0d398a91cc4f57c"},"body":"\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css\">\n    <link rel=\"shortcut icon\" href=\"https://fastapi.tiangolo.com/img/favicon.png\">\n    <title>FastAPI - Swagger UI</title>\n    </head>\n    <body>\n    <div id=\"swagger-ui\">\n    </div>\n    <script src=\"https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js\"></script>\n    <!-- `SwaggerUIBundle` is now available on the page -->\n    <script>\n    const ui = SwaggerUIBundle({\n        url: '/ext/api/v1/openapi.json',\n    \"dom_id\": \"#swagger-ui\",\n\"layout\": \"BaseLayout\",\n\"deepLinking\": true,\n\"showExtensions\": true,\n\"showCommonExtensions\": true,\noauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',\n    presets: [\n        SwaggerUIBundle.presets.apis,\n        SwaggerUIBundle.SwaggerUIStandalonePreset\n        ],\n    })\n    </script>\n    </body>\n    </html>\n    ","processing_time_ms":15.44,"request_id":"b0d398a91cc4f57c"}}
{"timestamp":"2025-09-19T11:45:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/openapi.json","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json,*/*","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/ext/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec; refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjA4NzQyOTUsInN1YiI6IjEifQ.VTzJzC0N0xX7W72TfXc56TWS7BsdhOK5wl7l3M961Jo"},"query_params":{},"body":"","request_id":"c8ac975f8db2f3f3"}}
{"timestamp":"2025-09-19T11:45:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"GET","url":"http://localhost:8000/ext/api/v1/openapi.json","headers":{"host":"localhost:8000","connection":"keep-alive","sec-ch-ua-platform":"\"Windows\"","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json,*/*","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/ext/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec; refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjA4NzQyOTUsInN1YiI6IjEifQ.VTzJzC0N0xX7W72TfXc56TWS7BsdhOK5wl7l3M961Jo"},"query_params":{},"body":"","request_id":"365479ffa91137a8"}}
{"timestamp":"2025-09-19T11:45:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"7775","content-type":"application/json","x-request-id":"365479ffa91137a8"},"body":{"openapi":"3.1.0","info":{"title":"FastAPI","version":"v1"},"paths":{"/ext/api/v1/messages/":{"get":{"tags":["Messages"],"summary":"Create Message","description":"Создаёт новое сообщение, привязанное к сессии.","operationId":"create_message_ext_api_v1_messages__get","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"integer","description":"ID сессии аккаунта","title":"Session Id"},"description":"ID сессии аккаунта"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта-получателя","title":"Number"},"description":"Номер аккаунта-получателя"},{"name":"text","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Текст сообщения","title":"Text"},"description":"Текст сообщения"},{"name":"info_1","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 1","title":"Info 1"},"description":"Метаинформация 1"},{"name":"info_2","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 2","title":"Info 2"},"description":"Метаинформация 2"},{"name":"info_3","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 3","title":"Info 3"},"description":"Метаинформация 3"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/messages/status":{"get":{"tags":["Messages"],"summary":"Update Message Status","description":"Обновляет статус сообщения.","operationId":"update_message_status_ext_api_v1_messages_status_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","description":"ID сообщения","title":"Id"},"description":"ID сообщения"},{"name":"status","in":"query","required":true,"schema":{"type":"integer","description":"Новый статус сообщения","title":"Status"},"description":"Новый статус сообщения"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/start":{"get":{"tags":["Account"],"summary":"Start Session","description":"Стартует сессию: проверяет, нет ли в БД с таким ext_id, и создаёт новую.","operationId":"start_session_ext_api_v1_session_start_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта/получателя","title":"Number"},"description":"Номер аккаунта/получателя"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/finish":{"get":{"tags":["Account"],"summary":"Finish Session","description":"Помечает сессию как завершённую (статус AVAILABLE).","operationId":"finish_session_ext_api_v1_session_finish_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/ban":{"get":{"tags":["Account"],"summary":"Ban Session","description":"Помечает сессию как заблокированную (статус BANNED).","operationId":"ban_session_ext_api_v1_session_ban_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MessageCreateResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"}},"type":"object","required":["id"],"title":"MessageCreateResponse","description":"Ответ при создании сообщения."},"MessageStatusResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"},"status":{"type":"integer","title":"Status","description":"Текущий статус сообщения"}},"type":"object","required":["id","status"],"title":"MessageStatusResponse","description":"Ответ при обновлении статуса сообщения."},"SessionStatusResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Внешний идентификатор сессии"},"number":{"type":"string","title":"Number","description":"Номер аккаунта"},"status":{"type":"integer","title":"Status","description":"Текущий статус сессии аккаунта"}},"type":"object","required":["id","number","status"],"title":"SessionStatusResponse","description":"Ответ при изменении статуса сессии аккаунта."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyQuery":{"type":"apiKey","in":"query","name":"x_api_key"},"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-Api-Key"}}}},"processing_time_ms":8.8,"request_id":"365479ffa91137a8"}}
{"timestamp":"2025-09-19T11:45:30.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":200,"headers":{"content-length":"7775","content-type":"application/json","x-request-id":"c8ac975f8db2f3f3"},"body":{"openapi":"3.1.0","info":{"title":"FastAPI","version":"v1"},"paths":{"/ext/api/v1/messages/":{"get":{"tags":["Messages"],"summary":"Create Message","description":"Создаёт новое сообщение, привязанное к сессии.","operationId":"create_message_ext_api_v1_messages__get","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"integer","description":"ID сессии аккаунта","title":"Session Id"},"description":"ID сессии аккаунта"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта-получателя","title":"Number"},"description":"Номер аккаунта-получателя"},{"name":"text","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Текст сообщения","title":"Text"},"description":"Текст сообщения"},{"name":"info_1","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 1","title":"Info 1"},"description":"Метаинформация 1"},{"name":"info_2","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 2","title":"Info 2"},"description":"Метаинформация 2"},{"name":"info_3","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"description":"Метаинформация 3","title":"Info 3"},"description":"Метаинформация 3"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/messages/status":{"get":{"tags":["Messages"],"summary":"Update Message Status","description":"Обновляет статус сообщения.","operationId":"update_message_status_ext_api_v1_messages_status_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","description":"ID сообщения","title":"Id"},"description":"ID сообщения"},{"name":"status","in":"query","required":true,"schema":{"type":"integer","description":"Новый статус сообщения","title":"Status"},"description":"Новый статус сообщения"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/start":{"get":{"tags":["Account"],"summary":"Start Session","description":"Стартует сессию: проверяет, нет ли в БД с таким ext_id, и создаёт новую.","operationId":"start_session_ext_api_v1_session_start_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта/получателя","title":"Number"},"description":"Номер аккаунта/получателя"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/finish":{"get":{"tags":["Account"],"summary":"Finish Session","description":"Помечает сессию как завершённую (статус AVAILABLE).","operationId":"finish_session_ext_api_v1_session_finish_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ext/api/v1/session/ban":{"get":{"tags":["Account"],"summary":"Ban Session","description":"Помечает сессию как заблокированную (статус BANNED).","operationId":"ban_session_ext_api_v1_session_ban_get","security":[{"APIKeyQuery":[]},{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"Внешний ID сессии","title":"Id"},"description":"Внешний ID сессии"},{"name":"number","in":"query","required":true,"schema":{"type":"string","maxLength":64,"description":"Номер аккаунта","title":"Number"},"description":"Номер аккаунта"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MessageCreateResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"}},"type":"object","required":["id"],"title":"MessageCreateResponse","description":"Ответ при создании сообщения."},"MessageStatusResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID созданного сообщения"},"status":{"type":"integer","title":"Status","description":"Текущий статус сообщения"}},"type":"object","required":["id","status"],"title":"MessageStatusResponse","description":"Ответ при обновлении статуса сообщения."},"SessionStatusResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Внешний идентификатор сессии"},"number":{"type":"string","title":"Number","description":"Номер аккаунта"},"status":{"type":"integer","title":"Status","description":"Текущий статус сессии аккаунта"}},"type":"object","required":["id","number","status"],"title":"SessionStatusResponse","description":"Ответ при изменении статуса сессии аккаунта."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyQuery":{"type":"apiKey","in":"query","name":"x_api_key"},"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-Api-Key"}}}},"processing_time_ms":17.0,"request_id":"c8ac975f8db2f3f3"}}
{"timestamp":"2025-09-19T11:45:35.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Получен входящий запрос","event":{"code":"010301","name":"SYSTEM.API.REQUEST","message":"Получен входящий запрос"},"extra":{"client_ip":"172.18.0.1","method":"POST","url":"http://localhost:8000/api/v1/auth/access-token","headers":{"host":"localhost:8000","connection":"keep-alive","content-length":"34","sec-ch-ua-platform":"\"Windows\"","authorization":"Basic Og==","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","x-requested-with":"XMLHttpRequest","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"application/json, text/plain, */*","content-type":"application/x-www-form-urlencoded","origin":"http://localhost:8000","sec-fetch-site":"same-origin","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/api/v1/docs","accept-encoding":"gzip, deflate, br, zstd","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"__next_hmr_refresh_hash__=625ed7a67f4aadb9ff9041fd42e7875a633457081244afec; refresh-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjA4NzQyOTUsInN1YiI6IjEifQ.VTzJzC0N0xX7W72TfXc56TWS7BsdhOK5wl7l3M961Jo"},"query_params":{},"body":"grant_type=password&username=admin","request_id":"4a1fc44a5d9e46ed"}}
{"timestamp":"2025-09-19T11:45:35.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Успешный ответ (HTTP 2xx)","event":{"code":"010302","name":"SYSTEM.API.RESPONSE","message":"Успешный ответ (HTTP 2xx)"},"extra":{"status_code":422,"headers":{"content-length":"93","content-type":"application/json","access-control-allow-origin":"http://localhost:8000","access-control-allow-credentials":"true","vary":"Origin","x-request-id":"4a1fc44a5d9e46ed"},"body":{"detail":[{"type":"missing","loc":["body","password"],"msg":"Field required","input":null}]},"processing_time_ms":4.52,"request_id":"4a1fc44a5d9e46ed"}}
{"timestamp":"2025-09-19T12:35:52.%fZ","service":{"name":"FastAPI","version":"0.0.1","env":"dev","instance_id":null,"host":"ca17ab00e6ce"},"name":"cloud_access_point","level":"INFO","message":"Остановка приложения","event":{"code":"010102","name":"SYSTEM.APP.SHUTDOWN","message":"Остановка приложения"},"extra":{"request_id":null}}
